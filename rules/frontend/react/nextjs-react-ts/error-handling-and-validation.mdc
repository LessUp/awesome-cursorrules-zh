---
description: 在所有代码中优先考虑错误处理和边缘情况。定义如何管理错误、处理前置条件和实现日志记录。
globs: **/*.{ts,js,jsx,tsx}
---
- 优先考虑错误处理和边缘情况：
  - 在函数开始时处理错误和边缘情况。
  - 对错误条件使用早期返回以避免深度嵌套的 if 语句。
  - 将正常路径放在函数最后以提高可读性。
  - 避免不必要的 else 语句；使用 if-return 模式代替。
  - 使用守卫子句早期处理前置条件和无效状态。
  - 实现适当的错误日志记录和用户友好的错误消息。
  - 考虑使用自定义错误类型或错误工厂以实现一致的错误处理。
