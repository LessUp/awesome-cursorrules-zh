---
description: 条目创建规则
globs: []
alwaysApply: false
---

# 条目创建规则

本规则集定义了全栈 MERN 指南中数据条目创建的规范和最佳实践。

## 1. 数据验证

- 所有用户输入数据在存储到数据库之前必须进行严格的服务器端验证。
- 验证规则应包括数据类型、格式、长度、范围和业务逻辑校验。
- 对于客户端验证，应提供即时反馈，但服务器端验证是必不可少的安全措施。

## 2. 数据完整性

- 确保关联数据的完整性，例如，当创建新条目时，所有相关的外键引用必须有效。
- 考虑使用事务（transactions）来保证多步骤数据创建操作的原子性。

## 3. 唯一性约束

- 对于需要唯一性的字段（如用户名、电子邮件），在创建条目时必须进行唯一性检查。
- 数据库层面应设置唯一索引以强制执行此约束。

## 4. 默认值与可选字段

- 明确定义每个字段是否为必需或可选。
- 为可选字段提供合理的默认值，以简化数据创建过程。

## 5. 错误处理与反馈

- 当数据创建失败时，应向用户提供清晰、具体的错误信息，帮助其理解问题并进行修正。
- 记录所有数据创建失败的日志，以便后续分析和调试。

## 6. 安全性考虑

- 避免直接将用户输入插入到数据库查询中，防止 SQL 注入（或其他注入攻击）。使用参数化查询或 ORM。
- 对敏感数据进行加密存储，即使数据库被泄露也能保护数据安全。

